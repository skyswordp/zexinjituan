# æœ‹å‹åœˆäº§å“äº¤äº’æ–‡æ¡£ï¼ˆåŸºäºæ¥å£æµ‹è¯•ç”¨ä¾‹ï¼‰

> è¯´æ˜ï¼šæœ¬æ–‡æ¡£æ ¹æ®å½“å‰æ¥å£æµ‹è¯•æ¸…å•æ•´ç†ï¼ŒæŒ‰â€œç”¨æˆ·åŠ¨ä½œ â†’ æ¥å£è°ƒç”¨ â†’ è¯´æ˜â€çš„æ–¹å¼æè¿°ã€‚ç”¨äºç ”å‘/æµ‹è¯•/äº§å“å¿«é€Ÿå¯¹é½ã€‚

## ğŸ“Š å¯è§†åŒ–æ¶æ„å›¾

![æœ‹å‹åœˆäº§å“äº¤äº’æ¶æ„å›¾](æœ‹å‹åœˆäº§å“äº¤äº’æ¶æ„å›¾.png)

> ğŸ’¡ **å›¾è¯´æ˜ï¼š** 7å¤§åŠŸèƒ½æ¨¡å—ï¼ˆå½©è‰²åŒºåˆ†ï¼‰+ æ¥å£æ¸…å• + ç®­å¤´æµç¨‹ + è§„èŒƒè¯´æ˜
> 
> ğŸ“ **å¯ç¼–è¾‘ç‰ˆæœ¬ï¼š** [æœ‹å‹åœˆäº§å“äº¤äº’æ¶æ„å›¾.drawio](æœ‹å‹åœˆäº§å“äº¤äº’æ¶æ„å›¾.drawio) | ä½¿ç”¨Draw.ioæ‰©å±•æ‰“å¼€å¯ç¼–è¾‘

---

## 1. ä¸ªäººä¸­å¿ƒä¸ç”¨æˆ·èµ„æ–™

### æµç¨‹å›¾
``
## 1. ä¸ªäººä¸­å¿ƒä¸ç”¨æˆ·èµ„æ–™
### 1.1 æŸ¥çœ‹ä¸ªäººèµ„æ–™
- ç”¨æˆ·åŠ¨ä½œï¼šè¿›å…¥ä¸ªäººä¸»é¡µ/ä¸ªäººä¸­å¿ƒ
- æ¥å£ï¼š`/api/friend/user/1.0/getUser`
- å…¥å‚ç¤ºä¾‹ï¼š`{ id, userId }`
- è¯´æ˜ï¼šè¿”å›å¤´åƒã€æ˜µç§°ã€å…³æ³¨æ•°ã€ç²‰ä¸æ•°ã€ç­‰çº§ç­‰åŸºç¡€ä¿¡æ¯ã€‚

### 1.2 ç¼–è¾‘ä¸ªäººèµ„æ–™
- ç”¨æˆ·åŠ¨ä½œï¼šä¿®æ”¹æ˜µç§°/å¤´åƒ
- æ¥å£ï¼š`/api/friend/user/1.0/update`
- å…¥å‚ç¤ºä¾‹ï¼š`{ id, nickName, headUrl }`
- è¯´æ˜ï¼šæ›´æ–°ç”¨æˆ·åŸºç¡€èµ„æ–™ã€‚

### 1.3 ç”¨æˆ·ç­‰çº§æŸ¥è¯¢
- ç”¨æˆ·åŠ¨ä½œï¼šæŸ¥çœ‹ç­‰çº§/æˆé•¿è¯´æ˜
- æ¥å£ï¼š`/api/friend/levelSetting/1.0/getLevel`
- å…¥å‚ç¤ºä¾‹ï¼š`{ account, money, levelId }`
- è¯´æ˜ï¼šè¿”å›ç­‰çº§ä¿¡æ¯ä¸è§„åˆ™ã€‚

## 2. å…³æ³¨ä¸ç²‰ä¸

### æµç¨‹å›¾
`

        API-->>APP: è¿”å›ç”¨æˆ·åˆ—è¡¨
        APP-->>U: å±•ç¤ºåˆ—è¡¨
    end
    
    rect rgb(255, 240, 245)
        Note over U,API: å…³æ³¨/å–æ¶ˆå…³æ³¨
        U->>APP: ç‚¹å‡»å…³æ³¨æŒ‰é’®
        APP->>API: saveFollow(userId, beUserId, type)
        Note right of API: type=1 å…³æ³¨<br/>type=2 å–æ¶ˆ
        API-->>APP: è¿”å›æ“ä½œç»“æœ
        APP-->>U: æ›´æ–°æŒ‰é’®çŠ¶æ€
        APP->>API: getList - åˆ·æ–°åˆ—è¡¨
        API-->>APP: è¿”å›æ–°åˆ—è¡¨
    end
```


### æµç¨‹å›¾
``

### 2.1 æŸ¥çœ‹å…³æ³¨/ç²‰ä¸åˆ—è¡¨
- ç”¨æˆ·åŠ¨ä½œï¼šæŸ¥çœ‹â€œå…³æ³¨/ç²‰ä¸â€åˆ—è¡¨
- æ¥å£ï¼š`/api/friend/user/1.0/getList`
- å…¥å‚ç¤ºä¾‹ï¼š`{ userId, type, pageNum, pageSize }`
- è¯´æ˜ï¼š`type=1` å…³æ³¨ï¼Œ`type=2` ç²‰ä¸ã€‚

### 2.2 å…³æ³¨/å–æ¶ˆå…³æ³¨
- ç”¨æˆ·åŠ¨ä½œï¼šç‚¹å‡»å…³æ³¨/å–æ¶ˆå…³æ³¨
- æ¥å£ï¼š`/api/friend/user/1.0/saveFollow`
- å…¥å‚ç¤ºä¾‹ï¼š`{ userId, beUserId, type }`
- è¯´æ˜ï¼š`type=1` å…³æ³¨ï¼Œ`type=2` å–æ¶ˆå…³æ³¨ã€‚

## 3. æœ‹å‹åœˆåŠ¨æ€ï¼ˆå‘å¸–/æµè§ˆï¼‰
### 3.1 å‘å¸ƒåŠ¨æ€
- ç”¨æˆ·åŠ¨ä½œï¼šå‘åŠ¨æ€
- æ¥å£ï¼š`/api/friend/circle/1.0/saveCircle`
- å…¥å‚ç¤ºä¾‹ï¼š`{ userId, content }`
- è¯´æ˜ï¼šæ”¯æŒå›¾æ–‡/è§†é¢‘ç­‰æ‰©å±•å­—æ®µã€‚

### 3.2 åŠ¨æ€åˆ—è¡¨

### æµç¨‹å›¾
`

        U->>APP: ç‚¹å‡»åˆ†äº«æŒ‰é’®
        U->>APP: é€‰æ‹©åˆ†äº«æ¸ é“
        APP->>UserAPI: saveShare(userId, circleId)
        UserAPI-->>APP: è®°å½•åˆ†äº«è¡Œä¸º
        APP-->>U: å”¤èµ·ç¬¬ä¸‰æ–¹åˆ†äº«
    end
    
    rect rgb(255, 245, 240)
        Note over U,ReportAPI: ä¸¾æŠ¥å†…å®¹
        U->>APP: ç‚¹å‡»ä¸¾æŠ¥
        U->>APP: é€‰æ‹©ä¸¾æŠ¥åŸå› 
        APP->>ReportAPI: saveReport(id, userId, type, reportReason)
        ReportAPI-->>APP: è¿”å›ä¸¾æŠ¥ç»“æœ
        APP-->>U: æç¤º"å·²æäº¤ä¸¾æŠ¥"
    end
```

- ç”¨æˆ·åŠ¨ä½œï¼šè¿›å…¥æœ‹å‹åœˆé¦–é¡µ
- æ¥å£ï¼š`/api/friend/circle/2.0/pageList`
- å…¥å‚ç¤ºä¾‹ï¼š`{ pageNum, pageSize }`
- è¯´æ˜ï¼šè·å–åŠ¨æ€åˆ—è¡¨ã€‚

### 3.3 åŠ¨æ€æ•°ç»Ÿè®¡
- ç”¨æˆ·åŠ¨ä½œï¼šåˆ·æ–°/æ‹‰å–ç»Ÿè®¡
- æ¥å£ï¼š`/api/friend/circle/1.0/getCountList`
- å…¥å‚ç¤ºä¾‹ï¼š`{ time }`
- è¯´æ˜ï¼šç»Ÿè®¡åŠ¨æ€æ•°é‡ã€‚

### æµç¨‹å›¾
`

    participant API as /api/friend/task/1.0
    
    U->>APP: è¿›å…¥ä»»åŠ¡ä¸­å¿ƒ
    APP->>API: queryTasks(userId)
    API-->>APP: è¿”å›ä»»åŠ¡åˆ—è¡¨(è¿›åº¦/å¥–åŠ±)
    APP-->>U: å±•ç¤ºæ¯æ—¥ä»»åŠ¡/æˆå°±ä»»åŠ¡
    
    Note over U,API: ç”¨æˆ·å®Œæˆä»»åŠ¡å<br/>ç”±åå°è‡ªåŠ¨ç»“ç®—<br/>æˆ–ç”¨æˆ·æ‰‹åŠ¨é¢†å–
```


### 3.4 æµè§ˆè®¡æ•°
- ç”¨æˆ·åŠ¨ä½œï¼šè¿›å…¥åŠ¨æ€è¯¦æƒ…
- æ¥å£ï¼š`/api/friend/user/1.0/readCount`
- å…¥å‚ç¤ºä¾‹ï¼š`{ type, id }`
- è¯´æ˜ï¼šé˜…è¯»æ•°+1ã€‚

## 4. ç‚¹èµä¸è¯„è®º
### 4.1 ç‚¹èµ/å–æ¶ˆç‚¹èµ
- ç”¨æˆ·åŠ¨ä½œï¼šç‚¹èµ/å–æ¶ˆç‚¹èµ
- æ¥å£ï¼š`/api/friend/user/1.0/saveChangePraise`
- å…¥å‚ç¤ºä¾‹ï¼š`{ userId, praiseType, type, circleId }`
- è¯´æ˜ï¼š`praiseType=1` å¸–å­ï¼Œ`2` è¯„è®ºã€‚

### 4.2 è¯„è®ºåˆ—è¡¨
- ç”¨æˆ·åŠ¨ä½œï¼šæŸ¥çœ‹è¯„è®º
- æ¥å£ï¼š`/api/friend/circleComments/1.0/pageList`
- å…¥å‚ç¤ºä¾‹ï¼š`{ circleId, pageNum, pageSize }`
- è¯´æ˜ï¼šè¿”å›è¯„è®ºåˆ—è¡¨ã€‚

### 4.3 å‘è¡¨è¯„è®º
- ç”¨æˆ·åŠ¨ä½œï¼šå‘å¸ƒè¯„è®º
- æ¥å£ï¼š`/api/friend/circleComments/1.0/saveComments`
- å…¥å‚ç¤ºä¾‹ï¼š`{ circleId, userId, content }`

### 4.4 æˆ‘çš„ç‚¹èµç»Ÿè®¡
- ç”¨æˆ·åŠ¨ä½œï¼šæŸ¥çœ‹ç‚¹èµ/è¯„è®º/@ æˆ‘æ•°é‡
- æ¥å£ï¼š`/api/friend/user/1.0/getMyPraiseCount`
- å…¥å‚ç¤ºä¾‹ï¼š`{ userId, commentsTime, praiseTime, mentionMeTime }`

## 5. åˆ†äº«ä¸ä¸¾æŠ¥
### 5.1 åˆ†äº«åŠ¨æ€
- ç”¨æˆ·åŠ¨ä½œï¼šåˆ†äº«åŠ¨æ€åˆ°å¤–éƒ¨
- æ¥å£ï¼š`/api/friend/user/1.0/saveShare`
- å…¥å‚ç¤ºä¾‹ï¼š`{ userId, circleId }`

### 5.2 ä¸¾æŠ¥å†…å®¹
- ç”¨æˆ·åŠ¨ä½œï¼šä¸¾æŠ¥åŠ¨æ€/è¯„è®º
- æ¥å£ï¼š`/api/friend/report/1.0/saveReport`
- å…¥å‚ç¤ºä¾‹ï¼š`{ id, userId, type, reportReason }`

## 6. è¯é¢˜
### 6.1 è¯é¢˜åˆ—è¡¨
- ç”¨æˆ·åŠ¨ä½œï¼šæµè§ˆè¯é¢˜
- æ¥å£ï¼š`/api/friend/topic/1.0/queryTitle`
- å…¥å‚ç¤ºä¾‹ï¼š`{}`

### 6.2 è¯é¢˜è¯¦æƒ…
- ç”¨æˆ·åŠ¨ä½œï¼šè¿›å…¥è¯é¢˜è¯¦æƒ…
- æ¥å£ï¼š`/api/friend/topic/1.0/queryDetails`
- å…¥å‚ç¤ºä¾‹ï¼š`{ topicId, pageNum, pageSize }`

## 7. ä»»åŠ¡
### 7.1 ä»»åŠ¡åˆ—è¡¨
- ç”¨æˆ·åŠ¨ä½œï¼šæŸ¥çœ‹ä»»åŠ¡ä¸­å¿ƒ
- æ¥å£ï¼š`/api/friend/task/1.0/queryTasks`
- å…¥å‚ç¤ºä¾‹ï¼š`{ userId }`

## 8. æ¿å—ï¼ˆé¦–é¡µ/ç«çŒœ/ç›´æ’­ï¼‰
### 8.1 é¦–é¡µæ¿å—
- ç”¨æˆ·åŠ¨ä½œï¼šè¿›å…¥é¦–é¡µæ¿å—
- æ¥å£ï¼š`/api/friend/board/index/getByLevel`
- å…¥å‚ç¤ºä¾‹ï¼š`{ boardLevel }`

### 8.2 ç«çŒœæ¿å—
- ç”¨æˆ·åŠ¨ä½œï¼šè¿›å…¥ç«çŒœæ¿å—
- æ¥å£ï¼š`/api/friend/board/guess/getByLevel`
- å…¥å‚ç¤ºä¾‹ï¼š`{ boardLevel }`

## 9. é¦–é¡µé…ç½®
### 9.1 é¦–é¡µåˆ—è¡¨
- ç”¨æˆ·åŠ¨ä½œï¼šè¿›å…¥é¦–é¡µ/èµ„è®¯åˆ—è¡¨
- æ¥å£ï¼š`/api/friend/indexSetting/1.0/pageList`
- å…¥å‚ç¤ºä¾‹ï¼š`{ pageNum, pageSize }`

## 10. æ¸¸æˆè®¾ç½®
### 10.1 æ¸¸æˆåˆ—è¡¨
- ç”¨æˆ·åŠ¨ä½œï¼šè¿›å…¥æ¸¸æˆè®¾ç½®é¡µ
- æ¥å£ï¼š`/api/friend/gameSetting/1.0/pageList`
- å…¥å‚ç¤ºä¾‹ï¼š`{ pageNum, pageSize }`

---

## è¯´æ˜ä¸çº¦å®š
- æ¥å£å‡ä¸º POSTã€‚
- ç»Ÿä¸€è¿”å›ç»“æ„ï¼š`{ code, message, data }`ã€‚
- å¦‚éœ€æŒ‰äº§å“åŒºåˆ†é€»è¾‘ï¼Œè¯·ç¡®ä¿è¯·æ±‚ä½“ä¸­å¸¦ `product`ï¼ˆç”±ç½‘å…³è½¬å‘æ—¶é»˜è®¤æ³¨å…¥ï¼‰ã€‚
